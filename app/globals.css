@tailwind base;
@tailwind components;
@tailwind utilities;

:root { --radius: 8px; }

html, body { scroll-behavior: smooth; }

.container { @apply mx-auto max-w-6xl px-4; }

.section { @apply py-16 md:py-24; }

.card { @apply rounded-xl shadow-soft border border-white/10 bg-white/5; }

.btn { @apply inline-flex items-center justify-center rounded-lg px-5 py-2.5 text-sm font-medium shadow-soft transition-colors; }

.btn-primary { @apply bg-white text-black hover:bg-gray-200; }

.btn-outline { @apply border border-white/20 text-white hover:bg-white/10; }

.gradient-bg {
  background: radial-gradient(1200px 600px at 50% -10%, rgba(59,130,246,0.25), transparent 60%),
              radial-gradient(900px 500px at 100% 10%, rgba(236,72,153,0.2), transparent 60%),
              linear-gradient(180deg, #0b0b0b, #0a0a0a 40%);
}


/* === Mevcut shimmer util’in aynısı; sadece duration toplam döngü için ayarlanıyor === */
@property --angle { syntax: "<angle>"; inherits: false; initial-value: 0deg; }

.shimmer-border {
  --radius: 16px;
  --thickness: 2px;
  --duration: 4.5s;      /* tek kartın tur süresi (istediğin hız) */
  position: relative;
  border-radius: var(--radius);
  overflow: hidden;
}

/* Ortak görünüm ve toplam süre (4 kart için 4x) */
.shimmer-border::before {
  content: "";
  position: absolute;
  inset: 0;
  padding: var(--thickness);
  border-radius: inherit;
  background: conic-gradient(from var(--angle),
    transparent 0deg 12deg,
    rgba(255,255,255,0.25) 18deg 36deg,
    transparent 48deg 360deg);
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  mask-composite: exclude;
  pointer-events: none;
  z-index: 1;

  /* Toplam döngü: 4 × duration */
  animation-duration: calc(var(--duration) * 4);
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

/* ==== Sıralı keyframe’ler ==== */
/* 1. kart: 0–25% aralığında çalışır */
@keyframes spin-seq-1 {
  0%   { opacity:1; --angle: 0deg;   }
  24.999% { opacity:1; --angle: 360deg; }
  25%  { opacity:0; --angle: 360deg; }
  100% { opacity:0; --angle: 360deg; }
}
/* 2. kart: 25–50% */
@keyframes spin-seq-2 {
  0%,24.999%  { opacity:0; --angle: 0deg; }
  25%         { opacity:1; --angle: 0deg; }
  49.999%     { opacity:1; --angle: 360deg; }
  50%,100%    { opacity:0; --angle: 360deg; }
}
/* 3. kart: 50–75% */
@keyframes spin-seq-3 {
  0%,49.999%  { opacity:0; --angle: 0deg; }
  50%         { opacity:1; --angle: 0deg; }
  74.999%     { opacity:1; --angle: 360deg; }
  75%,100%    { opacity:0; --angle: 360deg; }
}
/* 4. kart: 75–100% */
@keyframes spin-seq-4 {
  0%,74.999%  { opacity:0; --angle: 0deg; }
  75%         { opacity:1; --angle: 0deg; }
  99.999%     { opacity:1; --angle: 360deg; }
  100%        { opacity:0; --angle: 360deg; }
}

/* ==== 4 kartı sıraya bağla ==== */
/* parent container’ına göre seçebilirsin; örn. .services-grid içindeki kartlar */
.services-grid .shimmer-border:nth-child(1)::before { animation-name: spin-seq-1; }
.services-grid .shimmer-border:nth-child(2)::before { animation-name: spin-seq-2; }
.services-grid .shimmer-border:nth-child(3)::before { animation-name: spin-seq-3; }
.services-grid .shimmer-border:nth-child(4)::before { animation-name: spin-seq-4; }

/* Erişilebilirlik */
@media (prefers-reduced-motion: reduce) {
  .shimmer-border::before { animation: none; }
}


/* Marquee utility */
.marquee {
  position: relative;
  overflow: hidden;
  --fade-size: 64px;
  -webkit-mask-image: linear-gradient(
    to right,
    transparent 0,
    #000  var(--fade-size),
    #000  calc(100% - var(--fade-size)),
    transparent 100%
  );
  mask-image: linear-gradient(
    to right,
    transparent 0,
    #000  var(--fade-size),
    #000  calc(100% - var(--fade-size)),
    transparent 100%
  );
}

.marquee__track {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  animation: marquee-left var(--marquee-duration, 28s) linear infinite;
  will-change: transform;
}

@keyframes marquee-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

@media (prefers-reduced-motion: reduce) {
  .marquee__track {
    animation-duration: 0.01ms;
    animation-iteration-count: 1;
  }
}

/* Animasyonlanabilir custom props tanımları */
@property --x1 { syntax: "<percentage>"; inherits: false; initial-value: 20%; }
@property --y1 { syntax: "<percentage>"; inherits: false; initial-value: 30%; }
@property --x2 { syntax: "<percentage>"; inherits: false; initial-value: 80%; }
@property --y2 { syntax: "<percentage>"; inherits: false; initial-value: 20%; }
@property --x3 { syntax: "<percentage>"; inherits: false; initial-value: 60%; }
@property --y3 { syntax: "<percentage>"; inherits: false; initial-value: 70%; }

.hero-blob{
  position:absolute;
  inset:-18% -8% -6% -8%;             /* görünür alanı biraz büyütelim */
  /* gradient merkezleri artık değişkenlere bağlı */
  background:
    radial-gradient(40% 40% at var(--x1) var(--y1), rgba(255, 0, 128, .28), transparent 60%),
    radial-gradient(45% 45% at var(--x2) var(--y2), rgba(83, 126, 255, .26), transparent 60%);
  filter: blur(44px) saturate(120%);
  will-change: transform, background-position, filter;
  animation: blob-move 15s ease-in-out infinite;
  animation-direction: alternate;
}

/* İç hareket: merkezleri gezdir + biraz scale/translate */
@keyframes blob-move {
  0% {
    --x1:20%; --y1:30%;
    --x2:78%; --y2:22%;
    transform: translate3d(0, 0, 0) scale(1.00);
  }
  50% {
    --x1:80%; --y1:36%;
    --x2:23%; --y2:26%;
    transform: translate3d(0, 4%, 0) scale(1.12);
  }
  100% {
    --x1:22%; --y1:32%;
    --x2:76%; --y2:24%;
    transform: translate3d(0, 8%, 0) scale(1.03);
  }
}

/* Hareketi fazla bulanlar için erişilebilirlik */
@media (prefers-reduced-motion: reduce) {
  .hero-blob { animation: none; }
}